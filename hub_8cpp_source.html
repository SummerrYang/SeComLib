<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SeComLib: hub.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="TUDelft.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SeComLib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_831ec7248821341dc5ff661a9aa28ef6.html">secure_recommendations</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">hub.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="hub_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">SeComLib</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Copyright 2012-2013 TU Delft, Information Security &amp; Privacy Lab (http://isplab.tudelft.nl/)</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">Contributors:</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">Inald Lagendijk (R.L.Lagendijk@TUDelft.nl)</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">Mihai Todor (todormihai@gmail.com)</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">Thijs Veugen (P.J.M.Veugen@tudelft.nl)</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">Zekeriya Erkin (z.erkin@tudelft.nl)</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">limitations under the License.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hub_8h.html">hub.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">namespace </span>SeComLib {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span>SecureRecommendations {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">Hub::measureTraffic</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    BigInteger <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a>(0);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    BigInteger <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a>(0);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a1308bbbfe2f01d12dc5b0c54b1ff95cf">   58</a></span>&#160;    <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a1308bbbfe2f01d12dc5b0c54b1ff95cf">Hub::Hub</a> () {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a884f6746921794f894ab12db6e74c306">GenerateKeys</a>();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a> = <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#af3f904a009f7cd5e87220c641a9bddc9">SecureSvm::GetKernel</a>(<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().GetParameter&lt;std::string&gt;(<span class="stringliteral">&quot;SecureRecommendations.kernel&quot;</span>));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">Hub::measureTraffic</a> = <a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a87c8d65a037e9f8219f5259f43f57ec2">GetParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;SecureRecommendations.analysisType&quot;</span>) == <span class="stringliteral">&quot;traffic&quot;</span> ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment">// Get configuration parameters</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6517f8030718b1510690ad49098ce5bb">attributeCount</a> = <a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a87c8d65a037e9f8219f5259f43f57ec2">GetParameter</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;SecureRecommendations.Hub.attributeCount&quot;</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="comment">//we assume that all test files have the same number of entries</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a> = <a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a87c8d65a037e9f8219f5259f43f57ec2">GetParameter</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;SecureRecommendations.Hub.testVectorCount&quot;</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a74bea202a09c91004516320cd27ce8e6">featureScalingFactor</a> = BigInteger(10).Pow(<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().GetParameter&lt;unsigned long&gt;(<span class="stringliteral">&quot;SecureRecommendations.Svm.minimumFeatureDecimalDigits&quot;</span>));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7198b6efb11452c69548c23671f82415">svWeightScaling</a> = BigInteger(10).Pow(<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().GetParameter&lt;unsigned long&gt;(<span class="stringliteral">&quot;SecureRecommendations.Svm.minimumAiDecimalDigits&quot;</span>));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="comment">//set the input test files paths</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        std::string testFilesDirectory = <a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a87c8d65a037e9f8219f5259f43f57ec2">GetParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;SecureRecommendations.Hub.testFilesDirectory&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        std::string medicalRelevanceTestFile = <a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a87c8d65a037e9f8219f5259f43f57ec2">GetParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;SecureRecommendations.Hub.medicalRelevanceTestFile&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        std::string safetyTestFilesPrefix = <a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">Utils::Config::GetInstance</a>().<a class="code" href="class_se_com_lib_1_1_utils_1_1_config.html#a87c8d65a037e9f8219f5259f43f57ec2">GetParameter</a>&lt;std::string&gt;(<span class="stringliteral">&quot;SecureRecommendations.Hub.safetyTestFilesPrefix&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Pre-processing test data files.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment">//create a file stream to the medical relevance test file</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        std::ifstream fileStream(testFilesDirectory + medicalRelevanceTestFile);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">//make sure the file exists and it is readable</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">if</span> (!fileStream.good()) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Can&#39;t open the medical relevance test file.&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        std::string line;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lineCounter = 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="comment">//iterate over all the lines in the medical relevance test file and populate the medicalRelevanceTestData structure</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">while</span> (std::getline(fileStream, line)) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>.emplace_back(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#abed6aebc8bcbf045910ecdd670cac4cf">parseTestDataRow</a>(line));</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            ++lineCounter;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="comment">//sanity check</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span> (lineCounter != this-&gt;testVectorCount) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unexpected number of test vectors detected in: &quot;</span> + testFilesDirectory + medicalRelevanceTestFile);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="comment">//load the medical safety test data</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a9fd7d9ad7286a81b5cf546aa9ea101c5">loadSafetyTestData</a>(testFilesDirectory, safetyTestFilesPrefix);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Finished pre-processing test data files.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58874f789a880fa3ea07c398d9aff0e9">  113</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_se_com_lib_1_1_core_1_1_paillier_public_key.html">PaillierPublicKey</a> &amp;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58874f789a880fa3ea07c398d9aff0e9">Hub::GetPublicKey</a> ()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ae7ed7963452c3ea53f68eb90c9561a9b">GetPublicKey</a>();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#adc5b2d33bc11d03092611b5e131a8926">  122</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#adc5b2d33bc11d03092611b5e131a8926">Hub::SetServer</a> (<span class="keyword">const</span> std::shared_ptr&lt;const Server&gt; &amp;server) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        this-&gt;server = <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a15479700062e4c72e3987fcc043685e5">server</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a4acf67f908c6003140561f45d372d8c4">  133</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a4acf67f908c6003140561f45d372d8c4">Hub::EvaluateSign</a> (<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;input)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; input.size(); ++i) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(input[i].data.GetSize());</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            BigInteger decryptedValue = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(input[i]);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> (decryptedValue &gt;= 0) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                input[i] = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#acd69875eebe3b2f510441e7a8bc4c355">GetEncryptedOne</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                input[i] = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a1049ebf94d5accbb4cc30fcf1ec4c0cd">GetEncryptedZero</a>();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(input[i].data.GetSize());</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ac02363b56e29376176fb4f14dec89747">  165</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ac02363b56e29376176fb4f14dec89747">Hub::EvaluateMaximum</a> (<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;input)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">for</span> (SecureSvm::EncryptedVector::const_iterator i = input.begin(); i != input.end(); ++i) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>((*i).data.GetSize());</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        BigInteger maximum = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(input[0]);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment">//store the index of the maximum value</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordtype">size_t</span> index = 0;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">//set the fist value to [0] (we&#39;ll update it later to [1], if this turns out to be the real maximum)</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        input[0] = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a1049ebf94d5accbb4cc30fcf1ec4c0cd">GetEncryptedZero</a>();<span class="comment">//do not precompute this!</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="comment">//detect if the maximum value occurs more than once in the input data</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordtype">bool</span> uniqueMaximumValue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; input.size(); ++i) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="comment">//decrypt the current value</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            BigInteger value = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(input[i]);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">if</span> (maximum == value) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                uniqueMaximumValue = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (maximum &lt; value) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                maximum = value;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                index = i;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                uniqueMaximumValue = <span class="keyword">true</span>;<span class="comment">//reset this flag if we update the maximum</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="comment">//set all the values to [0]</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            input[i] = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a1049ebf94d5accbb4cc30fcf1ec4c0cd">GetEncryptedZero</a>();<span class="comment">//do not precompute this!</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="comment">// Set [1] at the index where the first occurence of the maximum was found, but only if the maximum is unique</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> (uniqueMaximumValue) input[index] = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#acd69875eebe3b2f510441e7a8bc4c355">GetEncryptedOne</a>();<span class="comment">//do not precompute this!</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">for</span> (SecureSvm::EncryptedVector::const_iterator i = input.begin(); i != input.end(); ++i) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>((*i).data.GetSize());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab9ca8e26bbb25c803aa501e5f82f23d9">  218</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab9ca8e26bbb25c803aa501e5f82f23d9">Hub::EvaluateDivision</a> (<span class="keyword">const</span> BigInteger &amp;numerator, <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;input)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; input.size(); ++i) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(input[i].data.GetSize());</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            input[i] = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a73987f6b0bc32127eeded912dc02aad9">EncryptInteger</a>(numerator / this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(input[i]));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(input[i].data.GetSize());</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad6ffb9ba8a31bc4f44b96bb25a5255af">  240</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad6ffb9ba8a31bc4f44b96bb25a5255af">Hub::DoAccuracyAnalysis</a> () {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        std::cout &lt;&lt; std::endl &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">Utils::DateTime::Now</a>() &lt;&lt; <span class="stringliteral">&quot;: Starting accuracy analysis with &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad4a342ea1db16160f2108b6bd7315c02">getKernelName</a>() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Feature scaling factor: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a74bea202a09c91004516320cd27ce8e6">featureScalingFactor</a>.ToString(10) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Support vector weights scaling factor: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7198b6efb11452c69548c23671f82415">svWeightScaling</a>.ToString(10) &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>; ++i) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a> encryptedClusterVotes;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> encryptedSafetyPredictions;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a15479700062e4c72e3987fcc043685e5">server</a>-&gt;GetAccuracyPredictions(encryptedClusterVotes, encryptedSafetyPredictions, this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>[i], this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">safetyTestData</a>[i]);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="comment">//extract the predicted cluster</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a241a4480a28e7325f1b2ecc999ee416e">predictedClusters</a>.emplace_back(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a84c421049935b33bba7d0481172cf928">getVotedCluster</a>(encryptedClusterVotes));</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="comment">//compute the predicted quality of life values</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ace893e9e319c540ede0bec62a41e8947">predictedQualityOfLifeMatrix</a>.emplace_back(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a0e54f9bab881972a012ee3534c5bfe20">processSafetyPredictions</a>(encryptedSafetyPredictions));</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            std::cout &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">Utils::DateTime::Now</a>() &lt;&lt; <span class="stringliteral">&quot;: Done &quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot; of &quot;</span> &lt;&lt; this-&gt;testVectorCount</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;. Expected cluster: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>[i].clusterLabel &lt;&lt; <span class="stringliteral">&quot;. Predicted cluster: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a241a4480a28e7325f1b2ecc999ee416e">predictedClusters</a>.back() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> medicalRelevanceBlockcorrectPredictions = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab74272e70cb25d1d2821a1a77386cc14">getMedicalRelevanceBlockCorrectPredictionCount</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Medical relevance block correct predictions: &quot;</span> &lt;&lt; medicalRelevanceBlockcorrectPredictions &lt;&lt; <span class="stringliteral">&quot; out of &quot;</span> &lt;&lt; this-&gt;testVectorCount &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Medical relevance block accuracy: &quot;</span> &lt;&lt; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(medicalRelevanceBlockcorrectPredictions) / static_cast&lt;double&gt;(this-&gt;testVectorCount)) * 100.0 &lt;&lt; <span class="stringliteral">&quot;%&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Safety block: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7733d78aeb824fa13ddbab60996f2c57">computeSafetyBlockFalsePredictions</a>();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">for</span> (std::map&lt;std::string, unsigned int&gt;::const_iterator falsePositivesIterator = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7ba038c635fd4340c5fee0ff2f6b424c">safetyBlockFalsePositives</a>.begin(), falseNegativesIterator = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58ac95f0f700cda0d1bb4c04748de991">safetyBlockFalseNegatives</a>.begin(); </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                falsePositivesIterator != this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7ba038c635fd4340c5fee0ff2f6b424c">safetyBlockFalsePositives</a>.end(), falseNegativesIterator != this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58ac95f0f700cda0d1bb4c04748de991">safetyBlockFalseNegatives</a>.end();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                ++falsePositivesIterator, ++falseNegativesIterator) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Done &quot;</span> &lt;&lt; falsePositivesIterator-&gt;first &lt;&lt; <span class="stringliteral">&quot;. &quot;</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Correct predictions: &quot;</span> &lt;&lt; this-&gt;testVectorCount - (falsePositivesIterator-&gt;second + falseNegativesIterator-&gt;second) &lt;&lt; <span class="stringliteral">&quot; out of &quot;</span> &lt;&lt; this-&gt;testVectorCount &lt;&lt; <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;False positives: &quot;</span> &lt;&lt; falsePositivesIterator-&gt;second &lt;&lt; <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;False negatives: &quot;</span> &lt;&lt; falseNegativesIterator-&gt;second &lt;&lt; <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Accuracy: &quot;</span> &lt;&lt; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(this-&gt;testVectorCount - (falsePositivesIterator-&gt;second + falseNegativesIterator-&gt;second)) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>)) * 100.0 &lt;&lt; <span class="stringliteral">&quot;%.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        std::cout &lt;&lt; std::endl &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">Utils::DateTime::Now</a>() &lt;&lt; <span class="stringliteral">&quot;: Analysis complete.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a33424097e61b2bc9972f7420e74245e8">  290</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a33424097e61b2bc9972f7420e74245e8">Hub::DoPerformanceAnalysis</a> () {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        std::cout &lt;&lt; std::endl &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">Utils::DateTime::Now</a>() &lt;&lt; <span class="stringliteral">&quot;: Starting performance analysis with &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad4a342ea1db16160f2108b6bd7315c02">getKernelName</a>() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Feature scaling factor: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a74bea202a09c91004516320cd27ce8e6">featureScalingFactor</a>.ToString(10) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Support vector weights scaling factor: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7198b6efb11452c69548c23671f82415">svWeightScaling</a>.ToString(10) &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        std::vector&lt;Utils::CpuTimer::NanosecondType&gt; durationVector;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html">Utils::CpuTimer</a> mainTimer;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>; ++i) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="comment">//create local variables</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> firstTwoBlocksPredictions;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> safetyBlockPredictions;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="comment">//start the timer</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html">Utils::CpuTimer</a> timer;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a15479700062e4c72e3987fcc043685e5">server</a>-&gt;GetPerformancePredictions(firstTwoBlocksPredictions, safetyBlockPredictions, this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>[i], this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">safetyTestData</a>[i]);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; firstTwoBlocksPredictions.size(); ++j) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(firstTwoBlocksPredictions[j].data.GetSize()) + static_cast&lt;unsigned long&gt;(safetyBlockPredictions[j].data.GetSize());</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(firstTwoBlocksPredictions[j]) * this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(safetyBlockPredictions[j]);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            durationVector.emplace_back(timer.<a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#ac2874efd78179d980fb1cb702c02e090">GetDuration</a>());</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Done &quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot; of &quot;</span> &lt;&lt; this-&gt;testVectorCount &lt;&lt; <span class="stringliteral">&quot; in &quot;</span> &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#aaf00309642452e8eedc9df61f5470ac0">Utils::CpuTimer::ToString</a>(durationVector.back()) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Entire process duration: &quot;</span> &lt;&lt; mainTimer.<a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#aaf00309642452e8eedc9df61f5470ac0">ToString</a>()&lt;&lt; std::endl;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">//compute minimum and maximum durations</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#a6ccbb82a4a3c675dcdfd92ebc9c180f7">Utils::CpuTimer::NanosecondType</a> minimum = durationVector[0];</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#a6ccbb82a4a3c675dcdfd92ebc9c180f7">Utils::CpuTimer::NanosecondType</a> maximum = durationVector[0];</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="comment">//start from 1</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>; ++i) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span> (minimum &gt; durationVector[i]) minimum = durationVector[i];</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">if</span> (maximum &lt; durationVector[i]) maximum = durationVector[i];</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Per test vector statistics: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Minimum duration: &quot;</span> &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#aaf00309642452e8eedc9df61f5470ac0">Utils::CpuTimer::ToString</a>(minimum) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Maximum duration: &quot;</span> &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#aaf00309642452e8eedc9df61f5470ac0">Utils::CpuTimer::ToString</a>(maximum) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordtype">long</span> <span class="keywordtype">double</span> mean = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(std::accumulate(durationVector.begin(), durationVector.end(), 0)) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(durationVector.size());</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Average duration: &quot;</span> &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#aaf00309642452e8eedc9df61f5470ac0">Utils::CpuTimer::ToString</a>(static_cast&lt;Utils::CpuTimer::NanosecondType&gt;(mean)) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordtype">long</span> <span class="keywordtype">double</span> standardDeviation = std::sqrt(static_cast&lt;double&gt;(std::inner_product(durationVector.begin(), durationVector.end(), durationVector.begin(), 0)) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(durationVector.size()) - mean * mean);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Standard deviation (in nanoseconds): &quot;</span> &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#aaf00309642452e8eedc9df61f5470ac0">Utils::CpuTimer::ToString</a>(static_cast&lt;Utils::CpuTimer::NanosecondType&gt;(standardDeviation)) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        std::cout &lt;&lt; std::endl &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">Utils::DateTime::Now</a>() &lt;&lt; <span class="stringliteral">&quot;: Analysis complete.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a0e6a7e4a8b31db952620cee378c706b2">  359</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a0e6a7e4a8b31db952620cee378c706b2">Hub::DoTrafficAnalysis</a> () {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        std::cout &lt;&lt; std::endl &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">Utils::DateTime::Now</a>() &lt;&lt; <span class="stringliteral">&quot;: Starting traffic analysis with &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad4a342ea1db16160f2108b6bd7315c02">getKernelName</a>() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Feature scaling factor: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a74bea202a09c91004516320cd27ce8e6">featureScalingFactor</a>.ToString(10) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Support vector weights scaling factor: &quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7198b6efb11452c69548c23671f82415">svWeightScaling</a>.ToString(10) &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a32c5a808764b987dc711a8b7e3874e0d">resetTrafficCounters</a>();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        BigInteger totalBitsSent;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        BigInteger totalBitsReceived;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>; ++i) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="comment">//create local variables</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> firstTwoBlocksPredictions;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> safetyBlockPredictions;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">measureTraffic</a>) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <span class="keywordflow">for</span> (SecureSvm::EncryptedVector::const_iterator i = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>.back().x.begin(); i != this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>.back().x.end(); ++i)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a> += static_cast&lt;unsigned long&gt;((*i).data.GetSize());</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">for</span> (SecureSvm::EncryptedVector::const_iterator i = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>.back().xx.begin(); i != this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>.back().xx.end(); ++i)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a> += static_cast&lt;unsigned long&gt;((*i).data.GetSize());</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keywordflow">for</span> (SecureSvm::EncryptedVector::const_iterator i = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>.back().xSquared.begin(); i != this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>.back().xSquared.end(); ++i)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a> += static_cast&lt;unsigned long&gt;((*i).data.GetSize());</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a15479700062e4c72e3987fcc043685e5">server</a>-&gt;GetPerformancePredictions(firstTwoBlocksPredictions, safetyBlockPredictions, this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>[i], this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">safetyTestData</a>[i]);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; firstTwoBlocksPredictions.size(); ++j) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a> += <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(firstTwoBlocksPredictions[j].data.GetSize()) + static_cast&lt;unsigned long&gt;(safetyBlockPredictions[j].data.GetSize());</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            totalBitsSent += <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            totalBitsReceived += <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Done &quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot; of &quot;</span> &lt;&lt; this-&gt;testVectorCount &lt;&lt; <span class="stringliteral">&quot;; Bits sent: &quot;</span> &lt;&lt; <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a>.ToString(10) &lt;&lt; <span class="stringliteral">&quot;; Bits received: &quot;</span> &lt;&lt; <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a>.ToString(10) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a32c5a808764b987dc711a8b7e3874e0d">resetTrafficCounters</a>();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Total Bits sent: &quot;</span> &lt;&lt; totalBitsSent.ToString(10) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Total Bits received: &quot;</span> &lt;&lt; totalBitsReceived.ToString(10) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        std::cout &lt;&lt; std::endl &lt;&lt; <a class="code" href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">Utils::DateTime::Now</a>() &lt;&lt; <span class="stringliteral">&quot;: Analysis complete.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a5d96058d22360b1ca8aab49b022a6183">  403</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a5d96058d22360b1ca8aab49b022a6183">Hub::DebugValue</a> (<span class="keyword">const</span> <a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a> &amp;value)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        std::cout &lt;&lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(value).ToString(10) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a9fd7d9ad7286a81b5cf546aa9ea101c5">  414</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a9fd7d9ad7286a81b5cf546aa9ea101c5">Hub::loadSafetyTestData</a> (<span class="keyword">const</span> std::string &amp;testFilesDirectory, <span class="keyword">const</span> std::string &amp;safetyTestFilesPrefix) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="comment">//build a list of safety test files</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        std::deque&lt;std::string&gt; safetyTestFiles = <a class="code" href="class_se_com_lib_1_1_utils_1_1_filesystem.html#a45ef637a807e08295a5fa87961d497ee">Utils::Filesystem::GetFilesInDirectory</a>(testFilesDirectory);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span> (safetyTestFiles.empty()) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;No files found in directory: &quot;</span> + testFilesDirectory);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="comment">//resize the safety test data container accordingly</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">safetyTestData</a>.resize(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">for</span> (std::deque&lt;std::string&gt;::const_iterator fileIterator = safetyTestFiles.begin(); fileIterator != safetyTestFiles.end(); ++fileIterator) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="comment">//there may be other files in the folder</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">if</span> (std::string::npos != (*fileIterator).find(safetyTestFilesPrefix)) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="comment">//each file name ends with a series of digits, which represent the unsafe classes</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="comment">//we want to extract and sort them in ascending order (just to be sure)</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                <span class="comment">//iterate over each class (digit) in the file name</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                std::vector&lt;unsigned short&gt; unsafeClasses;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = (*fileIterator).find_last_not_of(<span class="stringliteral">&quot;0123456789&quot;</span>) + 1; i &lt; (*fileIterator).size(); ++i) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    <span class="comment">//the difference between any digit and &#39;0&#39; will yield the desired numeric value</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    unsafeClasses.emplace_back((*fileIterator)[i] - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                std::sort(unsafeClasses.begin(), unsafeClasses.end());</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="comment">//convert the ordered unsafeClasses vector to a stringstream</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                std::stringstream unsafeClassesStream;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <span class="keywordflow">for</span> (std::vector&lt;unsigned short&gt;::const_iterator unsafeClassesIterator = unsafeClasses.begin(); unsafeClassesIterator != unsafeClasses.end(); ++unsafeClassesIterator) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    unsafeClassesStream &lt;&lt; *unsafeClassesIterator;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="comment">//create a file stream to the medical relevance test file</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                std::ifstream fileStream(testFilesDirectory + *fileIterator);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="comment">//make sure the file exists and it is readable</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="keywordflow">if</span> (!fileStream.good()) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Can&#39;t open the safety test file.&quot;</span>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                std::string line;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lineCounter = 0;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <span class="comment">//iterate over all the lines in the file and populate the safetyTestData structure column by column</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <span class="keywordflow">while</span> (std::getline(fileStream, line)) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">safetyTestData</a>[lineCounter][unsafeClassesStream.str()] = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#abed6aebc8bcbf045910ecdd670cac4cf">parseTestDataRow</a>(line);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    ++lineCounter;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <span class="comment">//sanity check</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <span class="keywordflow">if</span> (lineCounter != this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unexpected number of test vectors detected in: &quot;</span> + testFilesDirectory + *fileIterator);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#abed6aebc8bcbf045910ecdd670cac4cf">  478</a></span>&#160;    <a class="code" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#abed6aebc8bcbf045910ecdd670cac4cf">Hub::parseTestDataRow</a> (<span class="keyword">const</span> std::string &amp;line)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> output;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        std::string::size_type hashPosition = line.find(<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        std::string::size_type clPosition = line.find(<span class="stringliteral">&quot;cl&quot;</span>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        std::string::size_type qolPosition = line.find(<span class="stringliteral">&quot;qol&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        std::string::size_type genPosition = line.find(<span class="stringliteral">&quot;gen&quot;</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (std::string::npos == hashPosition || std::string::npos == clPosition || std::string::npos == qolPosition || std::string::npos == genPosition) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Label(s) not found in input file.&quot;</span>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        std::string::size_type clQolDelimiter = line.find(<span class="charliteral">&#39; &#39;</span>, clPosition);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        std::string::size_type qolGenDelimiter = line.find(<span class="charliteral">&#39; &#39;</span>, qolPosition);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">if</span> (std::string::npos == clQolDelimiter || std::string::npos == qolGenDelimiter) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Labels should be delimited by a space character.&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        std::istringstream clusterLabel(line.substr(clPosition + 3, clQolDelimiter));</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">//the input line should end after the qol value</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        std::istringstream qualityOfLifeLabel(line.substr(qolPosition + 4, qolGenDelimiter));</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">//we&#39;re not interested in the gen label</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (!clusterLabel || !qualityOfLifeLabel) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Malformed labels detected in input file.&quot;</span>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> labelValue;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="comment">//the input test data indexes the clusters starting from 1.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        clusterLabel &gt;&gt; labelValue;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">if</span> (labelValue &lt; 1 || labelValue &gt; 5) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid cluster label.&quot;</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        output.<a class="code" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#afe290d5729d21ed8f1ad39fa2354b73f">clusterLabel</a> = labelValue;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        qualityOfLifeLabel &gt;&gt; labelValue;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span> (labelValue &gt; 6) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid quality of life label.&quot;</span>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="comment">//convert from unsigned short to char</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        output.<a class="code" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#ab33d0363e57993eaeca04d04aec50a66">qualityOfLifeLabel</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(<span class="charliteral">&#39;0&#39;</span> + labelValue);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        std::vector&lt;BigInteger&gt; tempX;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        std::string::size_type attributeValueStartPosition = line.find(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">if</span> (std::string::npos == attributeValueStartPosition) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Can&#39;t find the first attribute.&quot;</span>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6517f8030718b1510690ad49098ce5bb">attributeCount</a>; ++i) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            std::string::size_type attributeDelimiterPosition = line.find(<span class="charliteral">&#39; &#39;</span>, attributeValueStartPosition);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span> (std::string::npos == attributeDelimiterPosition) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Input line does not contain the required number of attributes.&quot;</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="comment">//extract the current attribute value to stringstream so that we can convert it easily to double</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            std::istringstream attributeStream(line.substr(attributeValueStartPosition + 1, attributeDelimiterPosition - attributeValueStartPosition - 1));</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">if</span> (!attributeStream) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid attribute value detected.&quot;</span>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="comment">//std::cout &lt;&lt; attributeStream.str() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="comment">//convert stream to double (are 8 bytes / 15 digits enough???)</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordtype">double</span> attribute;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            attributeStream &gt;&gt; attribute;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="comment">//apply scaling</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="comment">//in case of negative values, remap them at the end of the key space</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            tempX.push_back(BigInteger(attribute, this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a74bea202a09c91004516320cd27ce8e6">featureScalingFactor</a>));</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="comment">//jump to the next attribute</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            attributeValueStartPosition = line.find(<span class="charliteral">&#39;:&#39;</span>, attributeValueStartPosition + 1);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">//xx and xSqared matrices are required only for polynomial and rbf kernels</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (SecureSvm::inverseQuadraticRBF == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a> || SecureSvm::homogeneousPolynomial == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a> || SecureSvm::inhomogeneousPolynomial == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tempX.size(); ++i) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="comment">//xx matrix is required only for polynomial kernels</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">if</span> (SecureSvm::homogeneousPolynomial == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a> || SecureSvm::inhomogeneousPolynomial == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a>) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = i; j &lt; tempX.size(); ++j) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                        output.<a class="code" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#ab3c303a23b6440bae7b1a291ddb82ffb">xx</a>.push_back(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a73987f6b0bc32127eeded912dc02aad9">EncryptInteger</a>(tempX[i] * tempX[j]));</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="comment">//xSquared matrix is required only for the rbf kernel</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="keywordflow">if</span> (SecureSvm::inverseQuadraticRBF == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a>) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    output.<a class="code" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#a7c6893ab6ee6684ff6bd216f062cd8e5">xSquared</a>.push_back(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a73987f6b0bc32127eeded912dc02aad9">EncryptInteger</a>(tempX[i] * tempX[i]));</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="comment">//x matrix is not required for the homogeneous polynomial kernel</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">if</span> (SecureSvm::homogeneousPolynomial != this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a>) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tempX.size(); ++i) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                output.<a class="code" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#adc167f56bfbc77bf7b6e21df2b24c22f">x</a>.emplace_back(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a73987f6b0bc32127eeded912dc02aad9">EncryptInteger</a>(tempX[i]));</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="keywordflow">return</span> output;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a84c421049935b33bba7d0481172cf928">  601</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a84c421049935b33bba7d0481172cf928">Hub::getVotedCluster</a> (<span class="keyword">const</span> std::vector&lt;Paillier::Ciphertext&gt; &amp;encryptedClusterVotes)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="comment">//return 0 if the maximum does not exist in the input vector</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> output = 0;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        BigInteger one(1);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; encryptedClusterVotes.size(); ++i) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">if</span> (one == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(encryptedClusterVotes[i])) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="comment">//the input test data cluster labels are indexed starting from 1</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                output = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span><span class="keyword">&gt;</span>(i + 1);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">return</span> output;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a0e54f9bab881972a012ee3534c5bfe20">  625</a></span>&#160;    std::vector&lt;unsigned short&gt; <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a0e54f9bab881972a012ee3534c5bfe20">Hub::processSafetyPredictions</a> (<span class="keyword">const</span> std::vector&lt;Paillier::Ciphertext&gt; &amp;encryptedSafetyPredictions)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        std::vector&lt;unsigned short&gt; output;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">for</span> (std::vector&lt;Paillier::Ciphertext&gt;::const_iterator prediction = encryptedSafetyPredictions.begin(); prediction != encryptedSafetyPredictions.end(); ++prediction) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="comment">//debug</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="comment">//DebugValue(*prediction);</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="comment">//we expect only 2 possible values: 0 (negative prediction) and 1 (pozitive prediction)</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            output.emplace_back(this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">cryptoProvider</a>.<a class="code" href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">DecryptInteger</a>(*prediction).ToUnsignedLong() == 0 ? 0 : 1);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">return</span> output;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab74272e70cb25d1d2821a1a77386cc14">  641</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab74272e70cb25d1d2821a1a77386cc14">Hub::getMedicalRelevanceBlockCorrectPredictionCount</a> ()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> correctPredictions = 0;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">testVectorCount</a>; ++i) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            correctPredictions += this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a241a4480a28e7325f1b2ecc999ee416e">predictedClusters</a>[i] == this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">medicalRelevanceTestData</a>[i].clusterLabel ? 1 : 0;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">return</span> correctPredictions;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7733d78aeb824fa13ddbab60996f2c57">  653</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7733d78aeb824fa13ddbab60996f2c57">Hub::computeSafetyBlockFalsePredictions</a> () {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        std::vector&lt;std::string&gt; safetyBlockSvmsUnsafeClasses = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a15479700062e4c72e3987fcc043685e5">server</a>-&gt;GetSafetyBlockSvmsUnsafeClasses();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        std::deque&lt;std::string&gt; safetyBlockSvmsModelFiles = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a15479700062e4c72e3987fcc043685e5">server</a>-&gt;GetSafetyBlockModelFiles();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="comment">//initialize the false positives and false negatives counters</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">for</span> (std::deque&lt;std::string&gt;::const_iterator modelFile = safetyBlockSvmsModelFiles.begin(); modelFile != safetyBlockSvmsModelFiles.end(); ++modelFile) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7ba038c635fd4340c5fee0ff2f6b424c">safetyBlockFalsePositives</a>[*modelFile] = 0;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58ac95f0f700cda0d1bb4c04748de991">safetyBlockFalseNegatives</a>[*modelFile] = 0;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="comment">//do iterate over all the prediction rows and count the false positives and false negatives</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> testRowIndex = 0; testRowIndex &lt; this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ace893e9e319c540ede0bec62a41e8947">predictedQualityOfLifeMatrix</a>.size(); ++testRowIndex) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> svmIndex = 0; svmIndex &lt; safetyBlockSvmsUnsafeClasses.size(); ++svmIndex) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                std::map&lt;std::string, TestDataRow&gt;::const_iterator safetyTestDataIterator = this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">safetyTestData</a>[testRowIndex].find(safetyBlockSvmsUnsafeClasses[svmIndex]);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">safetyTestData</a>[testRowIndex].end() != safetyTestDataIterator) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <span class="comment">//unsafe label =&gt; the safety prediction must be negative (= 0)</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    <span class="keywordflow">if</span> (std::string::npos != safetyBlockSvmsUnsafeClasses[svmIndex].find(safetyTestDataIterator-&gt;second.qualityOfLifeLabel) &amp;&amp; 1 == this-&gt;predictedQualityOfLifeMatrix[testRowIndex][svmIndex]) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                        ++this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7ba038c635fd4340c5fee0ff2f6b424c">safetyBlockFalsePositives</a>[safetyBlockSvmsModelFiles[svmIndex]];</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    <span class="comment">//safe label =&gt; the safety prediction must be positive (= 1)</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::string::npos == safetyBlockSvmsUnsafeClasses[svmIndex].find(safetyTestDataIterator-&gt;second.qualityOfLifeLabel) &amp;&amp; 0 == this-&gt;predictedQualityOfLifeMatrix[testRowIndex][svmIndex]) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                        ++this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58ac95f0f700cda0d1bb4c04748de991">safetyBlockFalseNegatives</a>[safetyBlockSvmsModelFiles[svmIndex]];</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing safety test data for unsafe classes: &quot;</span> + safetyBlockSvmsUnsafeClasses[svmIndex]);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a32c5a808764b987dc711a8b7e3874e0d">  685</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a32c5a808764b987dc711a8b7e3874e0d">Hub::resetTrafficCounters</a> () {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">Hub::bitsSent</a> = 0;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">Hub::bitsReceived</a> = 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad4a342ea1db16160f2108b6bd7315c02">  694</a></span>&#160;    std::string <a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad4a342ea1db16160f2108b6bd7315c02">Hub::getKernelName</a> ()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        std::string name;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">kernel</a>) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">case</span> SecureSvm::linear:</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                name = <span class="stringliteral">&quot;linear kernel&quot;</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keywordflow">case</span> SecureSvm::homogeneousPolynomial:</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                name = <span class="stringliteral">&quot;homogeneous polynomial kernel&quot;</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <span class="keywordflow">case</span> SecureSvm::inhomogeneousPolynomial:</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                name = <span class="stringliteral">&quot;inhomogeneous polynomial kernel&quot;</span>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">case</span> SecureSvm::inverseQuadraticRBF:</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                name = <span class="stringliteral">&quot;inverse quadratic RBF kernel&quot;</span>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid kernel type.&quot;</span>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">return</span> name;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}<span class="comment">//namespace SecureRecommendations</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}<span class="comment">//namespace SeComLib</span></div>
<div class="ttc" id="class_se_com_lib_1_1_core_1_1_crypto_provider_html_ab85099e3b86604847253ae66061ebbad"><div class="ttname"><a href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">SeComLib::Core::CryptoProvider&lt; PaillierPublicKey, PaillierPrivateKey, PaillierCiphertext, PaillierRandomizer &gt;::Ciphertext</a></div><div class="ttdeci">PaillierCiphertext Ciphertext</div><div class="ttdoc">Provide public access to the T_Ciphertext type. </div><div class="ttdef"><b>Definition:</b> <a href="crypto__provider_8h_source.html#l00060">crypto_provider.h:60</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm_html_a18e2156dd136c8ede11379d3e645c80a"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SeComLib::SecureRecommendations::SecureSvm::EncryptedVector</a></div><div class="ttdeci">std::vector&lt; Paillier::Ciphertext &gt; EncryptedVector</div><div class="ttdoc">Define a vector template specialization for vectors of encrypted data. </div><div class="ttdef"><b>Definition:</b> <a href="secure__svm_8h_source.html#l00062">secure_svm.h:62</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a6f626d7335050bcbbccfcd4408337395"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6f626d7335050bcbbccfcd4408337395">SeComLib::SecureRecommendations::Hub::medicalRelevanceTestData</a></div><div class="ttdeci">std::vector&lt; TestDataRow &gt; medicalRelevanceTestData</div><div class="ttdoc">The medical relevance block test data. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00123">hub.h:123</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_core_1_1_crypto_provider_html_acd69875eebe3b2f510441e7a8bc4c355"><div class="ttname"><a href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#acd69875eebe3b2f510441e7a8bc4c355">SeComLib::Core::CryptoProvider::GetEncryptedOne</a></div><div class="ttdeci">Ciphertext GetEncryptedOne(const bool randomized=true) const </div><div class="ttdoc">Returns [1]. </div><div class="ttdef"><b>Definition:</b> <a href="crypto__provider_8hpp_source.html#l00176">crypto_provider.hpp:176</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ab74272e70cb25d1d2821a1a77386cc14"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab74272e70cb25d1d2821a1a77386cc14">SeComLib::SecureRecommendations::Hub::getMedicalRelevanceBlockCorrectPredictionCount</a></div><div class="ttdeci">unsigned int getMedicalRelevanceBlockCorrectPredictionCount() const </div><div class="ttdoc">Computes the number of correct predictions of the medical relevance block. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00641">hub.cpp:641</a></div></div>
<div class="ttc" id="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row_html"><div class="ttname"><a href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">SeComLib::SecureRecommendations::TestDataRow</a></div><div class="ttdoc">Processed test data container. </div><div class="ttdef"><b>Definition:</b> <a href="test__data__row_8h_source.html#l00040">test_data_row.h:40</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a241a4480a28e7325f1b2ecc999ee416e"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a241a4480a28e7325f1b2ecc999ee416e">SeComLib::SecureRecommendations::Hub::predictedClusters</a></div><div class="ttdeci">std::vector&lt; unsigned short &gt; predictedClusters</div><div class="ttdoc">The predicted clusters. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00129">hub.h:129</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a84c421049935b33bba7d0481172cf928"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a84c421049935b33bba7d0481172cf928">SeComLib::SecureRecommendations::Hub::getVotedCluster</a></div><div class="ttdeci">unsigned short getVotedCluster(const std::vector&lt; Paillier::Ciphertext &gt; &amp;encryptedClusterVotes) const </div><div class="ttdoc">Returns the cluster index, which corresponds to the maximum. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00601">hub.cpp:601</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ace893e9e319c540ede0bec62a41e8947"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ace893e9e319c540ede0bec62a41e8947">SeComLib::SecureRecommendations::Hub::predictedQualityOfLifeMatrix</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; unsigned short &gt; &gt; predictedQualityOfLifeMatrix</div><div class="ttdoc">Vector of predicted quality of life values (contains 0 for negative values and 1 for positive values)...</div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00132">hub.h:132</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a7df9ca35301f66add2f605b80a2e6d0a"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7df9ca35301f66add2f605b80a2e6d0a">SeComLib::SecureRecommendations::Hub::testVectorCount</a></div><div class="ttdeci">unsigned long testVectorCount</div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00108">hub.h:108</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_core_1_1_crypto_provider_html_a1049ebf94d5accbb4cc30fcf1ec4c0cd"><div class="ttname"><a href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a1049ebf94d5accbb4cc30fcf1ec4c0cd">SeComLib::Core::CryptoProvider::GetEncryptedZero</a></div><div class="ttdeci">Ciphertext GetEncryptedZero(const bool randomized=true) const </div><div class="ttdoc">Returns [0]. </div><div class="ttdef"><b>Definition:</b> <a href="crypto__provider_8hpp_source.html#l00162">crypto_provider.hpp:162</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_core_1_1_crypto_provider_html_ae7ed7963452c3ea53f68eb90c9561a9b"><div class="ttname"><a href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ae7ed7963452c3ea53f68eb90c9561a9b">SeComLib::Core::CryptoProvider::GetPublicKey</a></div><div class="ttdeci">const T_PublicKey &amp; GetPublicKey() const </div><div class="ttdoc">Public key getter. </div><div class="ttdef"><b>Definition:</b> <a href="crypto__provider_8hpp_source.html#l00145">crypto_provider.hpp:145</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a0e6a7e4a8b31db952620cee378c706b2"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a0e6a7e4a8b31db952620cee378c706b2">SeComLib::SecureRecommendations::Hub::DoTrafficAnalysis</a></div><div class="ttdeci">void DoTrafficAnalysis()</div><div class="ttdoc">Execute the traffic analysis of the system. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00359">hub.cpp:359</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_core_1_1_paillier_html_a7bd9e8327c2dfd916ba3cd40b7e7765f"><div class="ttname"><a href="class_se_com_lib_1_1_core_1_1_paillier.html#a7bd9e8327c2dfd916ba3cd40b7e7765f">SeComLib::Core::Paillier::DecryptInteger</a></div><div class="ttdeci">virtual BigInteger DecryptInteger(const Ciphertext &amp;ciphertext) const </div><div class="ttdoc">Decrypt number. </div><div class="ttdef"><b>Definition:</b> <a href="paillier_8cpp_source.html#l00176">paillier.cpp:176</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a33424097e61b2bc9972f7420e74245e8"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a33424097e61b2bc9972f7420e74245e8">SeComLib::SecureRecommendations::Hub::DoPerformanceAnalysis</a></div><div class="ttdeci">void DoPerformanceAnalysis()</div><div class="ttdoc">Execute the performance analysis of the system. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00290">hub.cpp:290</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_config_html_a6b218d71048649aa2ed5cea9faba9258"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_config.html#a6b218d71048649aa2ed5cea9faba9258">SeComLib::Utils::Config::GetInstance</a></div><div class="ttdeci">static Config &amp; GetInstance()</div><div class="ttdoc">Returns a reference to the singleton. </div><div class="ttdef"><b>Definition:</b> <a href="config_8cpp_source.html#l00048">config.cpp:48</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ac02363b56e29376176fb4f14dec89747"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ac02363b56e29376176fb4f14dec89747">SeComLib::SecureRecommendations::Hub::EvaluateMaximum</a></div><div class="ttdeci">void EvaluateMaximum(SecureSvm::EncryptedVector &amp;input) const </div><div class="ttdoc">Secure maximum evaluation. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00165">hub.cpp:165</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_cpu_timer_html_a6ccbb82a4a3c675dcdfd92ebc9c180f7"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#a6ccbb82a4a3c675dcdfd92ebc9c180f7">SeComLib::Utils::CpuTimer::NanosecondType</a></div><div class="ttdeci">boost::timer::nanosecond_type NanosecondType</div><div class="ttdoc">Nanosecond data type (int_least64_t) </div><div class="ttdef"><b>Definition:</b> <a href="cpu__timer_8h_source.html#l00050">cpu_timer.h:50</a></div></div>
<div class="ttc" id="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row_html_adc167f56bfbc77bf7b6e21df2b24c22f"><div class="ttname"><a href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#adc167f56bfbc77bf7b6e21df2b24c22f">SeComLib::SecureRecommendations::TestDataRow::x</a></div><div class="ttdeci">SecureSvm::EncryptedVector x</div><div class="ttdoc">Encrypted test data vector. </div><div class="ttdef"><b>Definition:</b> <a href="test__data__row_8h_source.html#l00043">test_data_row.h:43</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a389ed330098ee3c8e4b52d20296b6a3e"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a389ed330098ee3c8e4b52d20296b6a3e">SeComLib::SecureRecommendations::Hub::kernel</a></div><div class="ttdeci">SecureSvm::KernelTypes kernel</div><div class="ttdoc">The SVM kernel type. We want to pre-compute only the data that is necessary for a particular kernel...</div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00114">hub.h:114</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_core_1_1_paillier_html_a884f6746921794f894ab12db6e74c306"><div class="ttname"><a href="class_se_com_lib_1_1_core_1_1_paillier.html#a884f6746921794f894ab12db6e74c306">SeComLib::Core::Paillier::GenerateKeys</a></div><div class="ttdeci">virtual bool GenerateKeys()</div><div class="ttdef"><b>Definition:</b> <a href="paillier_8cpp_source.html#l00105">paillier.cpp:105</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_server_html_a706082fb626cd7030275d9ba9378c348"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">SeComLib::SecureRecommendations::Server::EncryptedClusterVotes</a></div><div class="ttdeci">std::vector&lt; Paillier::Ciphertext &gt; EncryptedClusterVotes</div><div class="ttdoc">Container for the encrypted cluster votes. </div><div class="ttdef"><b>Definition:</b> <a href="secure__recommendations_2server_8h_source.html#l00068">secure_recommendations/server.h:68</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_core_1_1_crypto_provider_html_a73987f6b0bc32127eeded912dc02aad9"><div class="ttname"><a href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#a73987f6b0bc32127eeded912dc02aad9">SeComLib::Core::CryptoProvider::EncryptInteger</a></div><div class="ttdeci">virtual T_Ciphertext EncryptInteger(const BigInteger &amp;plaintext) const </div><div class="ttdoc">Encrypt an integer and apply randomization. </div><div class="ttdef"><b>Definition:</b> <a href="crypto__provider_8hpp_source.html#l00071">crypto_provider.hpp:71</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a0e54f9bab881972a012ee3534c5bfe20"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a0e54f9bab881972a012ee3534c5bfe20">SeComLib::SecureRecommendations::Hub::processSafetyPredictions</a></div><div class="ttdeci">std::vector&lt; unsigned short &gt; processSafetyPredictions(const std::vector&lt; Paillier::Ciphertext &gt; &amp;encryptedSafetyPredictions) const </div><div class="ttdoc">Returns the processed predictions of the safety block SVMs. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00625">hub.cpp:625</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_adc5b2d33bc11d03092611b5e131a8926"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#adc5b2d33bc11d03092611b5e131a8926">SeComLib::SecureRecommendations::Hub::SetServer</a></div><div class="ttdeci">void SetServer(const std::shared_ptr&lt; const Server &gt; &amp;server)</div><div class="ttdoc">Sets a reference to the recommendations server. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00122">hub.cpp:122</a></div></div>
<div class="ttc" id="hub_8h_html"><div class="ttname"><a href="hub_8h.html">hub.h</a></div><div class="ttdoc">Definition of class Hub. </div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a8c47056d96adad7956799bc59b005d67"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a8c47056d96adad7956799bc59b005d67">SeComLib::SecureRecommendations::Hub::bitsReceived</a></div><div class="ttdeci">static BigInteger bitsReceived</div><div class="ttdoc">Counts the number of bits received from the server. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00147">hub.h:147</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a26dd1d488ed768df240808628e1302fc"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a26dd1d488ed768df240808628e1302fc">SeComLib::SecureRecommendations::Hub::cryptoProvider</a></div><div class="ttdeci">Paillier cryptoProvider</div><div class="ttdoc">The crypto provider. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00101">hub.h:101</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_cpu_timer_html"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html">SeComLib::Utils::CpuTimer</a></div><div class="ttdoc">Utilitary class providing algorithm timing functionality. </div><div class="ttdef"><b>Definition:</b> <a href="cpu__timer_8h_source.html#l00047">cpu_timer.h:47</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a5d96058d22360b1ca8aab49b022a6183"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a5d96058d22360b1ca8aab49b022a6183">SeComLib::SecureRecommendations::Hub::DebugValue</a></div><div class="ttdeci">void DebugValue(const Paillier::Ciphertext &amp;value) const </div><div class="ttdoc">Decrypts and prints an encrypted value. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00403">hub.cpp:403</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_cpu_timer_html_aaf00309642452e8eedc9df61f5470ac0"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#aaf00309642452e8eedc9df61f5470ac0">SeComLib::Utils::CpuTimer::ToString</a></div><div class="ttdeci">std::string ToString() const </div><div class="ttdoc">Returns the elapsed user process time as a formatted string (HH::MM::SS.mmm) </div><div class="ttdef"><b>Definition:</b> <a href="cpu__timer_8cpp_source.html#l00063">cpu_timer.cpp:63</a></div></div>
<div class="ttc" id="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row_html_a7c6893ab6ee6684ff6bd216f062cd8e5"><div class="ttname"><a href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#a7c6893ab6ee6684ff6bd216f062cd8e5">SeComLib::SecureRecommendations::TestDataRow::xSquared</a></div><div class="ttdeci">SecureSvm::EncryptedVector xSquared</div><div class="ttdoc">Encrypted squared test data vector. </div><div class="ttdef"><b>Definition:</b> <a href="test__data__row_8h_source.html#l00049">test_data_row.h:49</a></div></div>
<div class="ttc" id="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row_html_afe290d5729d21ed8f1ad39fa2354b73f"><div class="ttname"><a href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#afe290d5729d21ed8f1ad39fa2354b73f">SeComLib::SecureRecommendations::TestDataRow::clusterLabel</a></div><div class="ttdeci">unsigned short clusterLabel</div><div class="ttdoc">The expected cluster (use this for accuracy measures) </div><div class="ttdef"><b>Definition:</b> <a href="test__data__row_8h_source.html#l00052">test_data_row.h:52</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a1308bbbfe2f01d12dc5b0c54b1ff95cf"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a1308bbbfe2f01d12dc5b0c54b1ff95cf">SeComLib::SecureRecommendations::Hub::Hub</a></div><div class="ttdeci">Hub()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00058">hub.cpp:58</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a6517f8030718b1510690ad49098ce5bb"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a6517f8030718b1510690ad49098ce5bb">SeComLib::SecureRecommendations::Hub::attributeCount</a></div><div class="ttdeci">unsigned int attributeCount</div><div class="ttdoc">The number of attributes in each test vector of the test data. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00111">hub.h:111</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ad95fa51f7ee24cd6ffd8477fd1e2afac"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad95fa51f7ee24cd6ffd8477fd1e2afac">SeComLib::SecureRecommendations::Hub::bitsSent</a></div><div class="ttdeci">static BigInteger bitsSent</div><div class="ttdoc">Counts the numbe of bits sent to the server. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00144">hub.h:144</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm_html_af3f904a009f7cd5e87220c641a9bddc9"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#af3f904a009f7cd5e87220c641a9bddc9">SeComLib::SecureRecommendations::SecureSvm::GetKernel</a></div><div class="ttdeci">static KernelTypes GetKernel(const std::string &amp;input)</div><div class="ttdoc">Converts the input string to the proper kernel. </div><div class="ttdef"><b>Definition:</b> <a href="secure__svm_8cpp_source.html#l00170">secure_svm.cpp:170</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a7733d78aeb824fa13ddbab60996f2c57"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7733d78aeb824fa13ddbab60996f2c57">SeComLib::SecureRecommendations::Hub::computeSafetyBlockFalsePredictions</a></div><div class="ttdeci">void computeSafetyBlockFalsePredictions()</div><div class="ttdoc">Computes the number of false negatives and false positives of the safety block. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00653">hub.cpp:653</a></div></div>
<div class="ttc" id="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row_html_ab33d0363e57993eaeca04d04aec50a66"><div class="ttname"><a href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#ab33d0363e57993eaeca04d04aec50a66">SeComLib::SecureRecommendations::TestDataRow::qualityOfLifeLabel</a></div><div class="ttdeci">char qualityOfLifeLabel</div><div class="ttdoc">The quality of life measure (use this for accuracy measures) </div><div class="ttdef"><b>Definition:</b> <a href="test__data__row_8h_source.html#l00055">test_data_row.h:55</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a7198b6efb11452c69548c23671f82415"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7198b6efb11452c69548c23671f82415">SeComLib::SecureRecommendations::Hub::svWeightScaling</a></div><div class="ttdeci">BigInteger svWeightScaling</div><div class="ttdoc">The scaling applied to the SVM parameters,  and . </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00120">hub.h:120</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ad6ffb9ba8a31bc4f44b96bb25a5255af"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad6ffb9ba8a31bc4f44b96bb25a5255af">SeComLib::SecureRecommendations::Hub::DoAccuracyAnalysis</a></div><div class="ttdeci">void DoAccuracyAnalysis()</div><div class="ttdoc">Execute the accuracy analysis of the system. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00240">hub.cpp:240</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a7ba038c635fd4340c5fee0ff2f6b424c"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a7ba038c635fd4340c5fee0ff2f6b424c">SeComLib::SecureRecommendations::Hub::safetyBlockFalsePositives</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int &gt; safetyBlockFalsePositives</div><div class="ttdoc">Vector containing number of false positives per safety SVM. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00135">hub.h:135</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_config_html_a87c8d65a037e9f8219f5259f43f57ec2"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_config.html#a87c8d65a037e9f8219f5259f43f57ec2">SeComLib::Utils::Config::GetParameter</a></div><div class="ttdeci">T GetParameter(const std::string &amp;parameter) const </div><div class="ttdoc">Template method which returns the value of the specified configuration parameter. ...</div><div class="ttdef"><b>Definition:</b> <a href="config_8hpp_source.html#l00041">config.hpp:41</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ab4daccc59710c35b97abf39c451d6b57"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab4daccc59710c35b97abf39c451d6b57">SeComLib::SecureRecommendations::Hub::measureTraffic</a></div><div class="ttdeci">static bool measureTraffic</div><div class="ttdoc">Enables traffic profiling. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00141">hub.h:141</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ad4a342ea1db16160f2108b6bd7315c02"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ad4a342ea1db16160f2108b6bd7315c02">SeComLib::SecureRecommendations::Hub::getKernelName</a></div><div class="ttdeci">std::string getKernelName() const </div><div class="ttdoc">Returns a string containing the name of the kernel specified in the configuration file...</div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00694">hub.cpp:694</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_cpu_timer_html_ac2874efd78179d980fb1cb702c02e090"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_cpu_timer.html#ac2874efd78179d980fb1cb702c02e090">SeComLib::Utils::CpuTimer::GetDuration</a></div><div class="ttdeci">NanosecondType GetDuration() const </div><div class="ttdoc">Returns the elapsed user process time (in nanoseconds) </div><div class="ttdef"><b>Definition:</b> <a href="cpu__timer_8cpp_source.html#l00056">cpu_timer.cpp:56</a></div></div>
<div class="ttc" id="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row_html_ab3c303a23b6440bae7b1a291ddb82ffb"><div class="ttname"><a href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html#ab3c303a23b6440bae7b1a291ddb82ffb">SeComLib::SecureRecommendations::TestDataRow::xx</a></div><div class="ttdeci">SecureSvm::EncryptedVector xx</div><div class="ttdoc">Encrypted vector product combinations, , stored as an unraveled upper triangular matrix. </div><div class="ttdef"><b>Definition:</b> <a href="test__data__row_8h_source.html#l00046">test_data_row.h:46</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a2161bfcc31dd9aa29d28995323395ab0"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a2161bfcc31dd9aa29d28995323395ab0">SeComLib::SecureRecommendations::Hub::safetyTestData</a></div><div class="ttdeci">std::vector&lt; std::map&lt; std::string, TestDataRow &gt; &gt; safetyTestData</div><div class="ttdoc">The safety block test data array (vector of collection of rows; each file should have the same number...</div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00126">hub.h:126</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a15479700062e4c72e3987fcc043685e5"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a15479700062e4c72e3987fcc043685e5">SeComLib::SecureRecommendations::Hub::server</a></div><div class="ttdeci">std::shared_ptr&lt; const Server &gt; server</div><div class="ttdoc">A reference to the recommendations server. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00104">hub.h:104</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a58ac95f0f700cda0d1bb4c04748de991"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58ac95f0f700cda0d1bb4c04748de991">SeComLib::SecureRecommendations::Hub::safetyBlockFalseNegatives</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int &gt; safetyBlockFalseNegatives</div><div class="ttdoc">Vector containing number of false negatives per safety SVM. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00138">hub.h:138</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_filesystem_html_a45ef637a807e08295a5fa87961d497ee"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_filesystem.html#a45ef637a807e08295a5fa87961d497ee">SeComLib::Utils::Filesystem::GetFilesInDirectory</a></div><div class="ttdeci">static std::deque&lt; std::string &gt; GetFilesInDirectory(const std::string &amp;directory)</div><div class="ttdoc">Traverses the provided directory (non-recursively) and extracts the absolute paths to all the files i...</div><div class="ttdef"><b>Definition:</b> <a href="filesystem_8cpp_source.html#l00040">filesystem.cpp:40</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a74bea202a09c91004516320cd27ce8e6"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a74bea202a09c91004516320cd27ce8e6">SeComLib::SecureRecommendations::Hub::featureScalingFactor</a></div><div class="ttdeci">BigInteger featureScalingFactor</div><div class="ttdoc">The scaling applied to the test and model vectors  and . </div><div class="ttdef"><b>Definition:</b> <a href="hub_8h_source.html#l00117">hub.h:117</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a58874f789a880fa3ea07c398d9aff0e9"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a58874f789a880fa3ea07c398d9aff0e9">SeComLib::SecureRecommendations::Hub::GetPublicKey</a></div><div class="ttdeci">const PaillierPublicKey &amp; GetPublicKey() const </div><div class="ttdoc">Returns a reference to the public key. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00113">hub.cpp:113</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_abed6aebc8bcbf045910ecdd670cac4cf"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#abed6aebc8bcbf045910ecdd670cac4cf">SeComLib::SecureRecommendations::Hub::parseTestDataRow</a></div><div class="ttdeci">TestDataRow parseTestDataRow(const std::string &amp;line) const </div><div class="ttdoc">Extracts test data from a single line. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00478">hub.cpp:478</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_utils_1_1_date_time_html_aadc9711548973b4ac531cea3f845969f"><div class="ttname"><a href="class_se_com_lib_1_1_utils_1_1_date_time.html#aadc9711548973b4ac531cea3f845969f">SeComLib::Utils::DateTime::Now</a></div><div class="ttdeci">static std::string Now(const std::string &amp;format=&quot;%H:%M:%S&quot;)</div><div class="ttdoc">Returns the formatted current time. </div><div class="ttdef"><b>Definition:</b> <a href="date__time_8cpp_source.html#l00038">date_time.cpp:38</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_ab9ca8e26bbb25c803aa501e5f82f23d9"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#ab9ca8e26bbb25c803aa501e5f82f23d9">SeComLib::SecureRecommendations::Hub::EvaluateDivision</a></div><div class="ttdeci">void EvaluateDivision(const BigInteger &amp;numerator, SecureSvm::EncryptedVector &amp;input) const </div><div class="ttdoc">Secure division evaluation. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00218">hub.cpp:218</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a32c5a808764b987dc711a8b7e3874e0d"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a32c5a808764b987dc711a8b7e3874e0d">SeComLib::SecureRecommendations::Hub::resetTrafficCounters</a></div><div class="ttdeci">static void resetTrafficCounters()</div><div class="ttdoc">Resets the traffic counters. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00685">hub.cpp:685</a></div></div>
<div class="ttc" id="struct_se_com_lib_1_1_core_1_1_paillier_public_key_html"><div class="ttname"><a href="struct_se_com_lib_1_1_core_1_1_paillier_public_key.html">SeComLib::Core::PaillierPublicKey</a></div><div class="ttdoc">The public key container structure for the Paillier cryptosystem. </div><div class="ttdef"><b>Definition:</b> <a href="paillier_8h_source.html#l00049">paillier.h:49</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a4acf67f908c6003140561f45d372d8c4"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a4acf67f908c6003140561f45d372d8c4">SeComLib::SecureRecommendations::Hub::EvaluateSign</a></div><div class="ttdeci">void EvaluateSign(SecureSvm::EncryptedVector &amp;input) const </div><div class="ttdoc">Secure sign evaluation. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00133">hub.cpp:133</a></div></div>
<div class="ttc" id="class_se_com_lib_1_1_secure_recommendations_1_1_hub_html_a9fd7d9ad7286a81b5cf546aa9ea101c5"><div class="ttname"><a href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html#a9fd7d9ad7286a81b5cf546aa9ea101c5">SeComLib::SecureRecommendations::Hub::loadSafetyTestData</a></div><div class="ttdeci">void loadSafetyTestData(const std::string &amp;testFilesDirectory, const std::string &amp;safetyTestFilesPrefix)</div><div class="ttdoc">Populates the safetyTestData structure. </div><div class="ttdef"><b>Definition:</b> <a href="hub_8cpp_source.html#l00414">hub.cpp:414</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 27 2014 01:04:37 for SeComLib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
