<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SeComLib: SeComLib::SecureRecommendations::Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="TUDelft.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SeComLib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_se_com_lib.html">SeComLib</a></li><li class="navelem"><a class="el" href="namespace_se_com_lib_1_1_secure_recommendations.html">SecureRecommendations</a></li><li class="navelem"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html">Server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_se_com_lib_1_1_secure_recommendations_1_1_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SeComLib::SecureRecommendations::Server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Medical Recommendations <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html" title="Medical Recommendations Server. ">Server</a>.  
 <a href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="secure__recommendations_2server_8h_source.html">server.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SeComLib::SecureRecommendations::Server:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_se_com_lib_1_1_secure_recommendations_1_1_server.png" usemap="#SeComLib::SecureRecommendations::Server_map" alt=""/>
  <map id="SeComLib::SecureRecommendations::Server_map" name="SeComLib::SecureRecommendations::Server_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1e793e4a6f5f9167716107d47f65edfe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e793e4a6f5f9167716107d47f65edfe"></a>
typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a1e793e4a6f5f9167716107d47f65edfe">EncryptedSvmValues</a></td></tr>
<tr class="memdesc:a1e793e4a6f5f9167716107d47f65edfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of encrypted SVM evaluations. <br/></td></tr>
<tr class="separator:a1e793e4a6f5f9167716107d47f65edfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706082fb626cd7030275d9ba9378c348"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a706082fb626cd7030275d9ba9378c348"></a>
typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">EncryptedClusterVotes</a></td></tr>
<tr class="memdesc:a706082fb626cd7030275d9ba9378c348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for the encrypted cluster votes. <br/></td></tr>
<tr class="separator:a706082fb626cd7030275d9ba9378c348"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0ec81103badffef94fe57819b41ca546"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a0ec81103badffef94fe57819b41ca546">Server</a> (const <a class="el" href="struct_se_com_lib_1_1_core_1_1_paillier_public_key.html">PaillierPublicKey</a> &amp;key)</td></tr>
<tr class="memdesc:a0ec81103badffef94fe57819b41ca546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a0ec81103badffef94fe57819b41ca546">More...</a><br/></td></tr>
<tr class="separator:a0ec81103badffef94fe57819b41ca546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8263699c76f6e3639f63d38ab15ee934"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8263699c76f6e3639f63d38ab15ee934"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a8263699c76f6e3639f63d38ab15ee934">~Server</a> ()</td></tr>
<tr class="memdesc:a8263699c76f6e3639f63d38ab15ee934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a8263699c76f6e3639f63d38ab15ee934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947297f4a94a7e2f00c260358ebcb13a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a947297f4a94a7e2f00c260358ebcb13a">SetClient</a> (const std::shared_ptr&lt; const <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html">Hub</a> &gt; &amp;<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#abc6769ea0b9c0e638fd84c2307d2ea1e">client</a>)</td></tr>
<tr class="memdesc:a947297f4a94a7e2f00c260358ebcb13a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a reference to the client.  <a href="#a947297f4a94a7e2f00c260358ebcb13a">More...</a><br/></td></tr>
<tr class="separator:a947297f4a94a7e2f00c260358ebcb13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d29722b47064dd5eaa24453626fcc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a03d29722b47064dd5eaa24453626fcc0">Initialize</a> ()</td></tr>
<tr class="memdesc:a03d29722b47064dd5eaa24453626fcc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the internal SVM instances.  <a href="#a03d29722b47064dd5eaa24453626fcc0">More...</a><br/></td></tr>
<tr class="separator:a03d29722b47064dd5eaa24453626fcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecea9f84f9a9aa4cc43c7b8e22c1283b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#aecea9f84f9a9aa4cc43c7b8e22c1283b">InteractiveSecureDivision</a> (const BigInteger &amp;numerator, <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;denominators) const </td></tr>
<tr class="memdesc:aecea9f84f9a9aa4cc43c7b8e22c1283b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the interactive secure division protocol.  <a href="#aecea9f84f9a9aa4cc43c7b8e22c1283b">More...</a><br/></td></tr>
<tr class="separator:aecea9f84f9a9aa4cc43c7b8e22c1283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90eeb191e3b8d5a9216e4306e2ee1765"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a90eeb191e3b8d5a9216e4306e2ee1765">GetAccuracyPredictions</a> (<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a> &amp;clusterVotes, <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;safetyPredictions, const <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &amp;medicalRelevanceTestData, const std::map&lt; std::string, <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &gt; &amp;safetyTestData) const </td></tr>
<tr class="memdesc:a90eeb191e3b8d5a9216e4306e2ee1765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Procedure which computes (and returns) the cluster votes for the first block and the medical safety predictions for accuracy analysis.  <a href="#a90eeb191e3b8d5a9216e4306e2ee1765">More...</a><br/></td></tr>
<tr class="separator:a90eeb191e3b8d5a9216e4306e2ee1765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eff7877ce5d570115bd05dd9d39cb8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a7eff7877ce5d570115bd05dd9d39cb8a">GetPerformancePredictions</a> (<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;firstTwoBlocksPredictions, <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;SafetyBlockPredictions, const <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &amp;medicalRelevanceTestData, const std::map&lt; std::string, <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &gt; &amp;safetyTestData) const </td></tr>
<tr class="memdesc:a7eff7877ce5d570115bd05dd9d39cb8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Procedure which computes (and returns) the predictions generated by the first two blocks and the safety block predictions for performance analysis.  <a href="#a7eff7877ce5d570115bd05dd9d39cb8a">More...</a><br/></td></tr>
<tr class="separator:a7eff7877ce5d570115bd05dd9d39cb8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3824b1acd37a6f0ac07cf7bf2b2ee1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#abd3824b1acd37a6f0ac07cf7bf2b2ee1">GetSafetyBlockSvmsUnsafeClasses</a> () const </td></tr>
<tr class="memdesc:abd3824b1acd37a6f0ac07cf7bf2b2ee1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unsafe classes for each safety SVM.  <a href="#abd3824b1acd37a6f0ac07cf7bf2b2ee1">More...</a><br/></td></tr>
<tr class="separator:abd3824b1acd37a6f0ac07cf7bf2b2ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817df0debba0269939b298e4d665eeb5"><td class="memItemLeft" align="right" valign="top">std::deque&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a817df0debba0269939b298e4d665eeb5">GetSafetyBlockModelFiles</a> () const </td></tr>
<tr class="memdesc:a817df0debba0269939b298e4d665eeb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the names of the model files for the safety block.  <a href="#a817df0debba0269939b298e4d665eeb5">More...</a><br/></td></tr>
<tr class="separator:a817df0debba0269939b298e4d665eeb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a711fe2da0283b6ba7d69b408442cff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a1a711fe2da0283b6ba7d69b408442cff">DebugValue</a> (const <a class="el" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a> &amp;value) const </td></tr>
<tr class="memdesc:a1a711fe2da0283b6ba7d69b408442cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a request to the client to debug an encrypted value.  <a href="#a1a711fe2da0283b6ba7d69b408442cff">More...</a><br/></td></tr>
<tr class="separator:a1a711fe2da0283b6ba7d69b408442cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ae76ae3d9bc01cd4f7c7e6150795ba7fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae76ae3d9bc01cd4f7c7e6150795ba7fc"></a>
typedef std::vector&lt; std::pair<br class="typebreak"/>
&lt; size_t, size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#ae76ae3d9bc01cd4f7c7e6150795ba7fc">PermutationVector</a></td></tr>
<tr class="memdesc:ae76ae3d9bc01cd4f7c7e6150795ba7fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the permutation map container. <br/></td></tr>
<tr class="separator:ae76ae3d9bc01cd4f7c7e6150795ba7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a83fa9139764b1e27acf2f2c2bb1ccccb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a83fa9139764b1e27acf2f2c2bb1ccccb">loadMedicalRelevanceSvmModels</a> (const std::string &amp;modelsDirectory)</td></tr>
<tr class="memdesc:a83fa9139764b1e27acf2f2c2bb1ccccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the Medical Relevance block SVM models.  <a href="#a83fa9139764b1e27acf2f2c2bb1ccccb">More...</a><br/></td></tr>
<tr class="separator:a83fa9139764b1e27acf2f2c2bb1ccccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87fd7a016f185547c9178516beb7f667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a87fd7a016f185547c9178516beb7f667">loadSafetySvmModels</a> (const std::string &amp;modelsDirectory)</td></tr>
<tr class="memdesc:a87fd7a016f185547c9178516beb7f667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the Safety block SVM models.  <a href="#a87fd7a016f185547c9178516beb7f667">More...</a><br/></td></tr>
<tr class="separator:a87fd7a016f185547c9178516beb7f667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af05b0b50f839df6e61877d66f375353e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#af05b0b50f839df6e61877d66f375353e">getTotalClusterVotes</a> (<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a1e793e4a6f5f9167716107d47f65edfe">Server::EncryptedSvmValues</a> &amp;votes) const </td></tr>
<tr class="memdesc:af05b0b50f839df6e61877d66f375353e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of votes per cluster.  <a href="#af05b0b50f839df6e61877d66f375353e">More...</a><br/></td></tr>
<tr class="separator:af05b0b50f839df6e61877d66f375353e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298e1d01fd0abfcb053f345227bac7f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a298e1d01fd0abfcb053f345227bac7f1">interactiveSignEvaluation</a> (<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a1e793e4a6f5f9167716107d47f65edfe">Server::EncryptedSvmValues</a> &amp;data) const </td></tr>
<tr class="memdesc:a298e1d01fd0abfcb053f345227bac7f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the interactive sign evaluation protocol inplace.  <a href="#a298e1d01fd0abfcb053f345227bac7f1">More...</a><br/></td></tr>
<tr class="separator:a298e1d01fd0abfcb053f345227bac7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ab328117e0d662c1e2189e0c1c23e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a57ab328117e0d662c1e2189e0c1c23e8">interactiveMaximumEvaluation</a> (<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a> &amp;data) const </td></tr>
<tr class="memdesc:a57ab328117e0d662c1e2189e0c1c23e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the interactive maximum evaluation protocol inplace.  <a href="#a57ab328117e0d662c1e2189e0c1c23e8">More...</a><br/></td></tr>
<tr class="separator:a57ab328117e0d662c1e2189e0c1c23e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a8f1cbd3e5c116ee6ed53499b3eacc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76a8f1cbd3e5c116ee6ed53499b3eacc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a76a8f1cbd3e5c116ee6ed53499b3eacc">Server</a> (<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html">Server</a> const &amp;)</td></tr>
<tr class="memdesc:a76a8f1cbd3e5c116ee6ed53499b3eacc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor - not implemented. <br/></td></tr>
<tr class="separator:a76a8f1cbd3e5c116ee6ed53499b3eacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7b95c19b376c7927877331de6b8703"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c7b95c19b376c7927877331de6b8703"></a>
<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html">Server</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a8c7b95c19b376c7927877331de6b8703">operator=</a> (<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html">Server</a> const &amp;)</td></tr>
<tr class="memdesc:a8c7b95c19b376c7927877331de6b8703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assignment operator - not implemented. <br/></td></tr>
<tr class="separator:a8c7b95c19b376c7927877331de6b8703"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abc6769ea0b9c0e638fd84c2307d2ea1e"><td class="memItemLeft" align="right" valign="top">std::weak_ptr&lt; const <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html">Hub</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#abc6769ea0b9c0e638fd84c2307d2ea1e">client</a></td></tr>
<tr class="separator:abc6769ea0b9c0e638fd84c2307d2ea1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b247ca38c7e3d5c230828a2d8bf201"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5b247ca38c7e3d5c230828a2d8bf201"></a>
<a class="el" href="class_se_com_lib_1_1_core_1_1_paillier.html">Paillier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#ae5b247ca38c7e3d5c230828a2d8bf201">cryptoProvider</a></td></tr>
<tr class="memdesc:ae5b247ca38c7e3d5c230828a2d8bf201"><td class="mdescLeft">&#160;</td><td class="mdescRight">The crypto provider. <br/></td></tr>
<tr class="separator:ae5b247ca38c7e3d5c230828a2d8bf201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed5e4ec5e791bfe084d10904b300ba1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ed5e4ec5e791bfe084d10904b300ba1"></a>
<a class="el" href="struct_se_com_lib_1_1_core_1_1_paillier_public_key.html">PaillierPublicKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a2ed5e4ec5e791bfe084d10904b300ba1">clientPublicKey</a></td></tr>
<tr class="memdesc:a2ed5e4ec5e791bfe084d10904b300ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client public key. <br/></td></tr>
<tr class="separator:a2ed5e4ec5e791bfe084d10904b300ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a872c2d74cb2b69636ce2f2c3c49a6723"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a872c2d74cb2b69636ce2f2c3c49a6723"></a>
<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a8f29d50f43a73e9abaa0eef61f69e71e">SecureSvm::KernelTypes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a872c2d74cb2b69636ce2f2c3c49a6723">kernel</a></td></tr>
<tr class="memdesc:a872c2d74cb2b69636ce2f2c3c49a6723"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SVM kernel type. <br/></td></tr>
<tr class="separator:a872c2d74cb2b69636ce2f2c3c49a6723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c2d75a3d5f2c480424a90fd13b5ca9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66c2d75a3d5f2c480424a90fd13b5ca9"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a66c2d75a3d5f2c480424a90fd13b5ca9">contentItemCount</a></td></tr>
<tr class="memdesc:a66c2d75a3d5f2c480424a90fd13b5ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of content items. <br/></td></tr>
<tr class="separator:a66c2d75a3d5f2c480424a90fd13b5ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a05206bbd1b24e921bb23e1a237deb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6a05206bbd1b24e921bb23e1a237deb"></a>
std::vector&lt; BigInteger &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#ac6a05206bbd1b24e921bb23e1a237deb">dummyContentItems</a></td></tr>
<tr class="memdesc:ac6a05206bbd1b24e921bb23e1a237deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy vector of content items. <br/></td></tr>
<tr class="separator:ac6a05206bbd1b24e921bb23e1a237deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bd4902155855925642dc0ee6f9a52d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89bd4902155855925642dc0ee6f9a52d"></a>
std::vector&lt; <a class="el" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a89bd4902155855925642dc0ee6f9a52d">dummyEncryptedPreferenceScores</a></td></tr>
<tr class="memdesc:a89bd4902155855925642dc0ee6f9a52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy vector of encrypted preference scores. <br/></td></tr>
<tr class="separator:a89bd4902155855925642dc0ee6f9a52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee6acec69bbb69ace0617b039d39c42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeee6acec69bbb69ace0617b039d39c42"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#aeee6acec69bbb69ace0617b039d39c42">blindingFactorSize</a></td></tr>
<tr class="memdesc:aeee6acec69bbb69ace0617b039d39c42"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum size of the blinding factors. <br/></td></tr>
<tr class="separator:aeee6acec69bbb69ace0617b039d39c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cc3a68856a3ecb7fdcd86403cc458e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11cc3a68856a3ecb7fdcd86403cc458e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a11cc3a68856a3ecb7fdcd86403cc458e">modelFileExtension</a></td></tr>
<tr class="memdesc:a11cc3a68856a3ecb7fdcd86403cc458e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The model files extension. <br/></td></tr>
<tr class="separator:a11cc3a68856a3ecb7fdcd86403cc458e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f2caf6ee2f2210f1f366a8e6994a5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34f2caf6ee2f2210f1f366a8e6994a5d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a34f2caf6ee2f2210f1f366a8e6994a5d">medicalRelevanceModelsDirectory</a></td></tr>
<tr class="memdesc:a34f2caf6ee2f2210f1f366a8e6994a5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Medical relevance models folder. <br/></td></tr>
<tr class="separator:a34f2caf6ee2f2210f1f366a8e6994a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef78f5b59ae1787d6778f0a390ec4b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeef78f5b59ae1787d6778f0a390ec4b3"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#aeef78f5b59ae1787d6778f0a390ec4b3">safetyModelsDirectory</a></td></tr>
<tr class="memdesc:aeef78f5b59ae1787d6778f0a390ec4b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The full path to the safety block models directory. <br/></td></tr>
<tr class="separator:aeef78f5b59ae1787d6778f0a390ec4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac960f242695b260989653117fc5eb1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ac960f242695b260989653117fc5eb1"></a>
std::deque&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a8ac960f242695b260989653117fc5eb1">safetySvmModelFiles</a></td></tr>
<tr class="memdesc:a8ac960f242695b260989653117fc5eb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The safety block model files. <br/></td></tr>
<tr class="separator:a8ac960f242695b260989653117fc5eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f8b56a7d9d79d70e1d91fc47a7b458"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2f8b56a7d9d79d70e1d91fc47a7b458"></a>
std::vector&lt; std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html">SecureSvm</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#ad2f8b56a7d9d79d70e1d91fc47a7b458">medicalRelevanceSvms</a></td></tr>
<tr class="memdesc:ad2f8b56a7d9d79d70e1d91fc47a7b458"><td class="mdescLeft">&#160;</td><td class="mdescRight">Medical Relevance Block SVM models. <br/></td></tr>
<tr class="separator:ad2f8b56a7d9d79d70e1d91fc47a7b458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e8405fffe8baf990176be4855d128d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37e8405fffe8baf990176be4855d128d"></a>
std::vector&lt; std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html">SecureSvm</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a37e8405fffe8baf990176be4855d128d">safetySvms</a></td></tr>
<tr class="memdesc:a37e8405fffe8baf990176be4855d128d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safety Block SVM models. <br/></td></tr>
<tr class="separator:a37e8405fffe8baf990176be4855d128d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af739bad7c0f787f1ad172f81a77e81ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af739bad7c0f787f1ad172f81a77e81ac"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#af739bad7c0f787f1ad172f81a77e81ac">medicalRelevanceClusterCount</a></td></tr>
<tr class="memdesc:af739bad7c0f787f1ad172f81a77e81ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of clusters for the Medical Relevance Block. <br/></td></tr>
<tr class="separator:af739bad7c0f787f1ad172f81a77e81ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3f397dfbf84ad8bfe5d0acda3bac77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec3f397dfbf84ad8bfe5d0acda3bac77"></a>
<a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#aec3f397dfbf84ad8bfe5d0acda3bac77">encryptedClusterVotes</a></td></tr>
<tr class="memdesc:aec3f397dfbf84ad8bfe5d0acda3bac77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the number of votes received for each cluster after evaluating the SVMs. <br/></td></tr>
<tr class="separator:aec3f397dfbf84ad8bfe5d0acda3bac77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa611b25ed5b84d8af3428ae6895d76cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa611b25ed5b84d8af3428ae6895d76cc"></a>
<a class="el" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#aa611b25ed5b84d8af3428ae6895d76cc">encryptedZero</a></td></tr>
<tr class="memdesc:aa611b25ed5b84d8af3428ae6895d76cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Precompute [0] for optimization purposes. <br/></td></tr>
<tr class="separator:aa611b25ed5b84d8af3428ae6895d76cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc454c54e51140a0d3e89638f8e8fab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bc454c54e51140a0d3e89638f8e8fab"></a>
<a class="el" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a7bc454c54e51140a0d3e89638f8e8fab">encryptedOne</a></td></tr>
<tr class="memdesc:a7bc454c54e51140a0d3e89638f8e8fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Precompute [1] for optimization purposes. <br/></td></tr>
<tr class="separator:a7bc454c54e51140a0d3e89638f8e8fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Medical Recommendations <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html" title="Medical Recommendations Server. ">Server</a>. </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8h_source.html#l00062">62</a> of file <a class="el" href="secure__recommendations_2server_8h_source.html">secure_recommendations/server.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0ec81103badffef94fe57819b41ca546"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SeComLib::SecureRecommendations::Server::Server </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_se_com_lib_1_1_core_1_1_paillier_public_key.html">PaillierPublicKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>Initializes the client's public key</p>
<p>Precomputes required data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The client public key </td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the medical relevance SVM models parameters</p>
<p>Initialize the safety SVM models parameters</p>
<p>Precompute [0] and [1] for optimization purposes </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00041">41</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1a711fe2da0283b6ba7d69b408442cff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::DebugValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_se_com_lib_1_1_core_1_1_crypto_provider.html#ab85099e3b86604847253ae66061ebbad">Paillier::Ciphertext</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a request to the client to debug an encrypted value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the value to debug </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00277">277</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a90eeb191e3b8d5a9216e4306e2ee1765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::GetAccuracyPredictions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a> &amp;&#160;</td>
          <td class="paramname"><em>clusterVotes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;&#160;</td>
          <td class="paramname"><em>safetyPredictions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &amp;&#160;</td>
          <td class="paramname"><em>medicalRelevanceTestData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>safetyTestData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Procedure which computes (and returns) the cluster votes for the first block and the medical safety predictions for accuracy analysis. </p>
<p>Determines the cluster with the highest number of votes.</p>
<p>Given N, the number of clusters, for each cluster we must perform binary clasification and then sum the votes for each cluster. The cluster having the highest number of votes is determined with an interactive protocol.</p>
<p>Evaluates the safety block SVMs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clusterVotes</td><td>returns a vector containing [1] at the index of the cluster with the maximum number of votes and [0] everywhere else </td></tr>
    <tr><td class="paramname">safetyPredictions</td><td>returns a vector which, for each safety SVM, contains [1] if the SVM produced a positive value and [0] otherwise </td></tr>
    <tr><td class="paramname">medicalRelevanceTestData</td><td>the medical relevance test data </td></tr>
    <tr><td class="paramname">safetyTestData</td><td>the safety test data </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Missing</td><td>safety test data </td></tr>
  </table>
  </dd>
</dl>
<p>First, we evaluate all the medical relevance SVMs</p>
<p>We also evaluate the safety SVMs (we will pop these out later, because we want to perform the interactive sign evaluation in a single step)</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000033">Todo:</a></b></dt><dd>Throw a custom exception here... </dd></dl>
<p>Ask the client to determine the sign with an interactive secure permutation algorithm, such that for each value we will contain either [0] or [1]</p>
<p>Compute the total number of votes for each cluster (we add the elements on each column together)</p>
<p>Ask the client to evaluate the cluster with the maximum number of votes The results vector will contain [1] at the index of the maximum and [0] at the other indexes </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00166">166</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7eff7877ce5d570115bd05dd9d39cb8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::GetPerformancePredictions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;&#160;</td>
          <td class="paramname"><em>firstTwoBlocksPredictions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;&#160;</td>
          <td class="paramname"><em>safetyPredictions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &amp;&#160;</td>
          <td class="paramname"><em>medicalRelevanceTestData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, <a class="el" href="struct_se_com_lib_1_1_secure_recommendations_1_1_test_data_row.html">TestDataRow</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>safetyTestData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Procedure which computes (and returns) the predictions generated by the first two blocks and the safety block predictions for performance analysis. </p>
<p>Evaluates the output of the first two blocks:</p>
<ul>
<li>Produces a vecor of sum_j(dummyEncryptedContentItems[i] * vote[j])</li>
<li>Adds the above vector homomorphically to the dummyEncryptedPreferenceScores and obtains the firstTwoBlocksPredictions</li>
<li>Sets the first 5 elements of the dummyEncryptedSafetyScores to the value obtained by evaluating the safety SVM</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">firstTwoBlocksPredictions</td><td>returns a vector containing the combined predictions of the first two blocks </td></tr>
    <tr><td class="paramname">safetyPredictions</td><td>returns a vector which, for each safety SVM, contains [1] if the SVM produced a positive value and [0] otherwise </td></tr>
    <tr><td class="paramname">medicalRelevanceTestData</td><td>the medical relevance test data </td></tr>
    <tr><td class="paramname">safetyTestData</td><td>the safety test data </td></tr>
  </table>
  </dd>
</dl>
<p>Evaluate the medical relevance votes and the safety prediction</p>
<p>Compute the outptut of the first two blocks </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00233">233</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a817df0debba0269939b298e4d665eeb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt; std::string &gt; SeComLib::SecureRecommendations::Server::GetSafetyBlockModelFiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the names of the model files for the safety block. </p>
<dl class="section return"><dt>Returns</dt><dd>a vector containing the names of the model files for the safety block </dd></dl>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00270">270</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="abd3824b1acd37a6f0ac07cf7bf2b2ee1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; SeComLib::SecureRecommendations::Server::GetSafetyBlockSvmsUnsafeClasses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the unsafe classes for each safety SVM. </p>
<dl class="section return"><dt>Returns</dt><dd>a vector containing the set of unsafe classes for each safety SVM </dd></dl>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00257">257</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af05b0b50f839df6e61877d66f375353e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a> SeComLib::SecureRecommendations::Server::getTotalClusterVotes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a1e793e4a6f5f9167716107d47f65edfe">Server::EncryptedSvmValues</a> &amp;&#160;</td>
          <td class="paramname"><em>votes</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total number of votes per cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">votes</td><td>a vector containing the encrypted values predicted by the SVMs </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector containing the votes for each cluster </dd></dl>
<p>We want to compute the sum of elements on each column, so we iterate over the lines in the inner loop</p>
<p>We computed only the SVM predictions for cluster(i, j), where i &lt; j, because for i &gt; j, prediction(i, j) = 1 - prediction(j, i) </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00324">324</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a03d29722b47064dd5eaa24453626fcc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the internal SVM instances. </p>
<p>This method needs to be called first!</p>
<p>Loads the medical relevance and the safety SVMs.</p>
<p>Generates dummy data for the content items, the preferences block and the safety block. </p>
<p>Load medical relevance block SVMs</p>
<p>Load safety block SVMs</p>
<p>Generate a dummy vector of content items with values from 0 to 10 and scale them with 10.</p>
<p>Generate a dummy vector of encrypted preferences block scores with values from 1 to 10. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000032">Todo:</a></b></dt><dd>Is the range really from 1 to 10 or is it 0 to 10? </dd></dl>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00078">78</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a57ab328117e0d662c1e2189e0c1c23e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::interactiveMaximumEvaluation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a706082fb626cd7030275d9ba9378c348">Server::EncryptedClusterVotes</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the interactive maximum evaluation protocol inplace. </p>
<p>Overwrites the input data with a vector containing [1] at the location of the maximum and [0] everywhere else.</p>
<p>Permutes the values.</p>
<p>Blinds the values multiplicatively and additively \( [w_i r_1 + r_2] = [w_i]^{r_1} r_2 \).</p>
<p>Calls the client's EvaluateMaximum method.</p>
<p>Reverses the permutation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>a vector of encrypted cluster votes </td></tr>
  </table>
  </dd>
</dl>
<p>Get a random permutation</p>
<p>Permute the input vector</p>
<p>Multiplicatively blind the values with a random factor \( r_1 &gt; 0 \)</p>
<p>Additively blind the values with a random factor \( r_2 \)</p>
<p>Interact with the client</p>
<p>Reverse the permutation </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00407">407</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aecea9f84f9a9aa4cc43c7b8e22c1283b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::InteractiveSecureDivision </td>
          <td>(</td>
          <td class="paramtype">const BigInteger &amp;&#160;</td>
          <td class="paramname"><em>numerator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_secure_svm.html#a18e2156dd136c8ede11379d3e645c80a">SecureSvm::EncryptedVector</a> &amp;&#160;</td>
          <td class="paramname"><em>denominators</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the interactive secure division protocol. </p>
<p>Blinds each denominator multiplicatively with a factor \( r_i \), such that it does not generate overflows.</p>
<p>Permutes all the denominators randomly.</p>
<p>Sends the permuted vector of blinded denominators to the client and receives the results of \( 1 / d_i \).</p>
<p>Undoes the random permutation and homomorphically multiplies each result by \( r_i \), in order to get the desired values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numerator</td><td>the value of the numerator </td></tr>
    <tr><td class="paramname">denominators</td><td>vector of encrypted denominators. Will be overwritten by the kernel values </td></tr>
  </table>
  </dd>
</dl>
<p>Blind the encrypted denominators. Store the blinding factors.</p>
<p>\( r_i \) must always be &gt; 0!</p>
<p>Get a random permutation</p>
<p>Permute the blinded encrypted denominators.</p>
<p>Interact with the client</p>
<p>Reverse the permutation</p>
<p>Undo the blinding </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00119">119</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a298e1d01fd0abfcb053f345227bac7f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::interactiveSignEvaluation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_server.html#a1e793e4a6f5f9167716107d47f65edfe">Server::EncryptedSvmValues</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the interactive sign evaluation protocol inplace. </p>
<p>Overwrites the input data with a vector of votes ([0] or [1]) for each value in the input vector.</p>
<p>Permutes the values.</p>
<p>Multiplicatively blinds the values: \( [f_i(x)]^{r_i} \).</p>
<p>Calls the client's EvaluateSign method.</p>
<p>Reverses the permutation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>a vector containing the encypted values predicted by the SVMs </td></tr>
  </table>
  </dd>
</dl>
<p>Get a random permutation</p>
<p>Permute the input vector</p>
<p>Multiplicatively blind the values with a random factor \( r \)</p>
<p>Interact with the client</p>
<p>Reverse the permutation </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00374">374</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a83fa9139764b1e27acf2f2c2bb1ccccb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::loadMedicalRelevanceSvmModels </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>modelsDirectory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the Medical Relevance block SVM models. </p>
<p>The SVMs are binary classifiers between two clusters.</p>
<p>Since the SVMs are symmetric ( \( SVM_{jvi} = 1 - SVM_{ivj} \)), we only load the ones where \( i &lt; j \)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modelsDirectory</td><td>the path to the medical relevance SVM models directory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00288">288</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a87fd7a016f185547c9178516beb7f667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::loadSafetySvmModels </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>modelsDirectory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the Safety block SVM models. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modelsDirectory</td><td>the path to the safety SVM models directory </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000034">Todo:</a></b></dt><dd>Throw a custom error. </dd></dl>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00305">305</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a947297f4a94a7e2f00c260358ebcb13a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SeComLib::SecureRecommendations::Server::SetClient </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html">Hub</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a reference to the client. </p>
<p>Associates the server with the client instance</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>a client instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8cpp_source.html#l00067">67</a> of file <a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abc6769ea0b9c0e638fd84c2307d2ea1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::weak_ptr&lt;const <a class="el" href="class_se_com_lib_1_1_secure_recommendations_1_1_hub.html">Hub</a>&gt; SeComLib::SecureRecommendations::Server::client</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A reference to the client. Use weak_ptr here in order to avoid a circular deadlock with the client which holds a reference back to the server </p>

<p>Definition at line <a class="el" href="secure__recommendations_2server_8h_source.html#l00106">106</a> of file <a class="el" href="secure__recommendations_2server_8h_source.html">secure_recommendations/server.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="secure__recommendations_2server_8h_source.html">secure_recommendations/server.h</a></li>
<li><a class="el" href="secure__recommendations_2server_8cpp_source.html">secure_recommendations/server.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 27 2014 01:04:39 for SeComLib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
